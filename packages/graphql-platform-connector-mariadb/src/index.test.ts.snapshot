exports[`GraphQL-Platform Connector MariaDB > generates a consistent schema 1`] = `
"DROP SCHEMA IF EXISTS \`tests_connector_mariadb\`"
`;

exports[`GraphQL-Platform Connector MariaDB > generates a consistent schema 2`] = `
"CREATE OR REPLACE SCHEMA \`tests_connector_mariadb\`\\nDEFAULT CHARSET = 'utf8mb4'\\nDEFAULT COLLATE = 'utf8mb4_unicode_520_ci'"
`;

exports[`GraphQL-Platform Connector MariaDB > generates a consistent schema 3`] = `
"CREATE TABLE \`tests_connector_mariadb\`.\`articles\` (\\n  \`private_id\` INT UNSIGNED AUTO_INCREMENT NOT NULL COMMENT 'This id is used to identify an Article internally',\\n  \`id\` UUID NOT NULL COMMENT 'This UUID identifies an Article publicly',\\n  \`status\` ENUM('draft','published','deleted') NOT NULL,\\n  \`title\` VARCHAR(255) NOT NULL,\\n  \`slug\` VARCHAR(255) NOT NULL,\\n  \`body\` JSON NULL COMMENT 'The article\\\\'s body',\\n  \`category_private_id\` INT UNSIGNED NULL,\\n  \`created_by_id\` UUID NULL,\\n  \`created_at\` DATETIME(3) NOT NULL,\\n  \`updated_by_username\` VARCHAR(255) NULL,\\n  \`updated_at\` TIMESTAMP(0) NOT NULL,\\n  \`metas\` JSON NULL COMMENT 'Contains any arbitrary data you want to store alongside the article',\\n  \`highlighted\` BOOLEAN NULL COMMENT 'Is the article highlighted?',\\n  \`sponsored\` BOOLEAN NULL COMMENT 'Is the article a partnership?',\\n  \`views\` BIGINT UNSIGNED NOT NULL,\\n  \`score\` DOUBLE(10,2) UNSIGNED NOT NULL,\\n  \`machine_tags\` JSON NULL,\\n  PRIMARY KEY (\`private_id\`),\\n  UNIQUE INDEX \`unq_id\` (\`id\`),\\n  UNIQUE INDEX \`unq_category_private_id_slug\` (\`category_private_id\`,\`slug\`),\\n  FULLTEXT \`ft_title\` (\`title\`),\\n  INDEX \`idx_slug\` (\`slug\`),\\n  INDEX \`idx_status_slug\` (\`status\`,\`slug\`),\\n  INDEX \`idx_category_private_id_updated_at\` (\`category_private_id\`,\`updated_at\`),\\n  FOREIGN KEY \`fk_articles_category_private_id\` (\`category_private_id\`) REFERENCES \`categories\` (\`private_id\`) ON UPDATE RESTRICT ON DELETE RESTRICT,\\n  FOREIGN KEY \`fk_articles_created_by_id\` (\`created_by_id\`) REFERENCES \`users\` (\`id\`) ON UPDATE RESTRICT ON DELETE RESTRICT,\\n  FOREIGN KEY \`fk_articles_updated_by_username\` (\`updated_by_username\`) REFERENCES \`users\` (\`username\`) ON UPDATE RESTRICT ON DELETE RESTRICT\\n)\\nENGINE = 'InnoDB'\\nDEFAULT CHARSET = 'utf8mb4'\\nDEFAULT COLLATE = 'utf8mb4_unicode_520_ci'\\nCOMMENT 'The article is the main resource, written by the journalists'\\n\\nCREATE TABLE \`tests_connector_mariadb\`.\`article_histories\` (\\n  \`article_private_id\` INT UNSIGNED NOT NULL,\\n  \`created_at\` DATETIME(3) NOT NULL,\\n  \`message\` VARCHAR(255) NOT NULL,\\n  PRIMARY KEY (\`article_private_id\`,\`created_at\`),\\n  FOREIGN KEY \`fk_article_histories_article_private_id\` (\`article_private_id\`) REFERENCES \`articles\` (\`private_id\`) ON UPDATE RESTRICT ON DELETE RESTRICT\\n)\\nENGINE = 'InnoDB'\\nDEFAULT CHARSET = 'utf8mb4'\\nDEFAULT COLLATE = 'utf8mb4_unicode_520_ci'\\n\\nCREATE TABLE \`tests_connector_mariadb\`.\`article_extensions\` (\\n  \`article_private_id\` INT UNSIGNED NOT NULL,\\n  \`source\` VARCHAR(255) NULL COMMENT 'The source of the article',\\n  PRIMARY KEY (\`article_private_id\`),\\n  FOREIGN KEY \`fk_article_extensions_article_private_id\` (\`article_private_id\`) REFERENCES \`articles\` (\`private_id\`) ON UPDATE RESTRICT ON DELETE RESTRICT\\n)\\nENGINE = 'InnoDB'\\nDEFAULT CHARSET = 'utf8mb4'\\nDEFAULT COLLATE = 'utf8mb4_unicode_520_ci'\\n\\nCREATE TABLE \`tests_connector_mariadb\`.\`categories\` (\\n  \`private_id\` INT UNSIGNED AUTO_INCREMENT NOT NULL,\\n  \`id\` UUID NOT NULL,\\n  \`title\` VARCHAR(255) NOT NULL,\\n  \`slug\` VARCHAR(255) NOT NULL,\\n  \`parent_private_id\` INT UNSIGNED NULL,\\n  \`order\` INT(3) UNSIGNED NOT NULL,\\n  PRIMARY KEY (\`private_id\`),\\n  UNIQUE INDEX \`unq_id\` (\`id\`),\\n  UNIQUE INDEX \`unq_parent_private_id_slug\` (\`parent_private_id\`,\`slug\`),\\n  UNIQUE INDEX \`unq_parent_private_id_order\` (\`parent_private_id\`,\`order\`),\\n  FOREIGN KEY \`fk_categories_parent_private_id\` (\`parent_private_id\`) REFERENCES \`categories\` (\`private_id\`) ON UPDATE RESTRICT ON DELETE RESTRICT\\n)\\nENGINE = 'InnoDB'\\nDEFAULT CHARSET = 'utf8mb4'\\nDEFAULT COLLATE = 'utf8mb4_unicode_520_ci'\\n\\nCREATE TABLE \`tests_connector_mariadb\`.\`tags\` (\\n  \`id\` UUID NOT NULL,\\n  \`deprecated\` BOOLEAN NULL COMMENT 'A tag can be deprecated',\\n  \`title\` VARCHAR(255) NOT NULL,\\n  \`slug\` VARCHAR(255) NOT NULL,\\n  \`created_at\` DATETIME(3) NOT NULL,\\n  \`updated_at\` DATETIME(3) NOT NULL,\\n  PRIMARY KEY (\`id\`),\\n  UNIQUE INDEX \`unq_slug\` (\`slug\`)\\n)\\nENGINE = 'InnoDB'\\nDEFAULT CHARSET = 'utf8mb4'\\nDEFAULT COLLATE = 'utf8mb4_unicode_520_ci'\\n\\nCREATE TABLE \`tests_connector_mariadb\`.\`article_tags\` (\\n  \`article_private_id\` INT UNSIGNED NOT NULL,\\n  \`tag_id\` UUID NOT NULL,\\n  \`order\` INT UNSIGNED NOT NULL,\\n  PRIMARY KEY (\`article_private_id\`,\`tag_id\`),\\n  UNIQUE INDEX \`unq_article_private_id_order\` (\`article_private_id\`,\`order\`),\\n  FOREIGN KEY \`fk_article_tags_article_private_id\` (\`article_private_id\`) REFERENCES \`articles\` (\`private_id\`) ON UPDATE RESTRICT ON DELETE RESTRICT,\\n  FOREIGN KEY \`fk_article_tags_tag_id\` (\`tag_id\`) REFERENCES \`tags\` (\`id\`) ON UPDATE RESTRICT ON DELETE RESTRICT\\n)\\nENGINE = 'InnoDB'\\nDEFAULT CHARSET = 'utf8mb4'\\nDEFAULT COLLATE = 'utf8mb4_unicode_520_ci'\\n\\nCREATE TABLE \`tests_connector_mariadb\`.\`article_tag_moderations\` (\\n  \`theArticlePrivateId\` INT UNSIGNED NOT NULL,\\n  \`theTagId\` UUID NOT NULL,\\n  \`moderator_id\` UUID NOT NULL,\\n  \`moderation\` VARCHAR(255) NULL,\\n  PRIMARY KEY (\`theArticlePrivateId\`,\`theTagId\`,\`moderator_id\`),\\n  FOREIGN KEY \`my_custom_fk_name\` (\`theArticlePrivateId\`,\`theTagId\`) REFERENCES \`article_tags\` (\`article_private_id\`,\`tag_id\`) ON UPDATE RESTRICT ON DELETE RESTRICT,\\n  FOREIGN KEY \`fk_article_tag_moderations_moderator_id\` (\`moderator_id\`) REFERENCES \`users\` (\`id\`) ON UPDATE RESTRICT ON DELETE RESTRICT\\n)\\nENGINE = 'InnoDB'\\nDEFAULT CHARSET = 'utf8mb4'\\nDEFAULT COLLATE = 'utf8mb4_unicode_520_ci'\\n\\nCREATE TABLE \`tests_connector_mariadb\`.\`users\` (\\n  \`id\` UUID NOT NULL,\\n  \`username\` VARCHAR(255) NOT NULL,\\n  \`created_at\` DATETIME(3) NOT NULL,\\n  \`last_logged_in_at\` TIMESTAMP(0) NULL,\\n  PRIMARY KEY (\`id\`),\\n  UNIQUE INDEX \`unq_username\` (\`username\`)\\n)\\nENGINE = 'InnoDB'\\nDEFAULT CHARSET = 'utf8mb4'\\nDEFAULT COLLATE = 'utf8mb4_unicode_520_ci'\\n\\nCREATE TABLE \`tests_connector_mariadb\`.\`user_profiles\` (\\n  \`theUserId\` UUID NOT NULL,\\n  \`birthday\` DATE NULL,\\n  \`facebook_id\` VARCHAR(255) NULL,\\n  \`google_id\` VARCHAR(255) NULL,\\n  \`twitter_handle\` VARCHAR(255) NULL,\\n  PRIMARY KEY (\`theUserId\`),\\n  FOREIGN KEY \`fk_user_profiles_theUserId\` (\`theUserId\`) REFERENCES \`users\` (\`id\`) ON UPDATE RESTRICT ON DELETE RESTRICT\\n)\\nENGINE = 'InnoDB'\\nDEFAULT CHARSET = 'utf8mb4'\\nDEFAULT COLLATE = 'utf8mb4_unicode_520_ci'\\n\\nCREATE TABLE \`tests_connector_mariadb\`.\`logs\` (\\n  \`private_id\` INT UNSIGNED AUTO_INCREMENT NOT NULL,\\n  \`message\` VARCHAR(255) NOT NULL,\\n  \`created_at\` DATETIME(3) NOT NULL,\\n  PRIMARY KEY (\`private_id\`)\\n)\\nENGINE = 'InnoDB'\\nDEFAULT CHARSET = 'utf8mb4'\\nDEFAULT COLLATE = 'utf8mb4_unicode_520_ci'"
`;

exports[`GraphQL-Platform Connector MariaDB > generates a consistent schema 4`] = `
"ALTER TABLE \`tests_connector_mariadb\`.\`articles\`\\nADD FOREIGN KEY \`fk_articles_category_private_id\` (\`category_private_id\`) REFERENCES \`categories\` (\`private_id\`) ON UPDATE RESTRICT ON DELETE RESTRICT,\\nADD FOREIGN KEY \`fk_articles_created_by_id\` (\`created_by_id\`) REFERENCES \`users\` (\`id\`) ON UPDATE RESTRICT ON DELETE RESTRICT,\\nADD FOREIGN KEY \`fk_articles_updated_by_username\` (\`updated_by_username\`) REFERENCES \`users\` (\`username\`) ON UPDATE RESTRICT ON DELETE RESTRICT\\n\\nALTER TABLE \`tests_connector_mariadb\`.\`article_histories\`\\nADD FOREIGN KEY \`fk_article_histories_article_private_id\` (\`article_private_id\`) REFERENCES \`articles\` (\`private_id\`) ON UPDATE RESTRICT ON DELETE RESTRICT\\n\\nALTER TABLE \`tests_connector_mariadb\`.\`article_extensions\`\\nADD FOREIGN KEY \`fk_article_extensions_article_private_id\` (\`article_private_id\`) REFERENCES \`articles\` (\`private_id\`) ON UPDATE RESTRICT ON DELETE RESTRICT\\n\\nALTER TABLE \`tests_connector_mariadb\`.\`categories\`\\nADD FOREIGN KEY \`fk_categories_parent_private_id\` (\`parent_private_id\`) REFERENCES \`categories\` (\`private_id\`) ON UPDATE RESTRICT ON DELETE RESTRICT\\n\\nALTER TABLE \`tests_connector_mariadb\`.\`article_tags\`\\nADD FOREIGN KEY \`fk_article_tags_article_private_id\` (\`article_private_id\`) REFERENCES \`articles\` (\`private_id\`) ON UPDATE RESTRICT ON DELETE RESTRICT,\\nADD FOREIGN KEY \`fk_article_tags_tag_id\` (\`tag_id\`) REFERENCES \`tags\` (\`id\`) ON UPDATE RESTRICT ON DELETE RESTRICT\\n\\nALTER TABLE \`tests_connector_mariadb\`.\`article_tag_moderations\`\\nADD FOREIGN KEY \`my_custom_fk_name\` (\`theArticlePrivateId\`,\`theTagId\`) REFERENCES \`article_tags\` (\`article_private_id\`,\`tag_id\`) ON UPDATE RESTRICT ON DELETE RESTRICT,\\nADD FOREIGN KEY \`fk_article_tag_moderations_moderator_id\` (\`moderator_id\`) REFERENCES \`users\` (\`id\`) ON UPDATE RESTRICT ON DELETE RESTRICT\\n\\nALTER TABLE \`tests_connector_mariadb\`.\`user_profiles\`\\nADD FOREIGN KEY \`fk_user_profiles_theUserId\` (\`theUserId\`) REFERENCES \`users\` (\`id\`) ON UPDATE RESTRICT ON DELETE RESTRICT"
`;
